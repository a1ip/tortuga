/*! my-grunt 2014-05-02 */
function ns(a){var b=0,c=a.indexOf(".",0),d=window;do{c=a.indexOf(".",b);var e=c>=0?a.substring(b,c):a.substring(b);d[e]=d[e]||{},d=d[e],b=c+1}while(c>=0)}function newArray(a,b){for(var c=new Array(a),d=0;a>d;++d)c[d]=b;return c}!function(){var a=32768,b=0,c=1,d=2,e=6,f=!0,g=32768,h=64,i=8192,j=2*a,k=3,l=258,m=16,n=8192,o=13;n>g&&alert("error: zip_INBUFSIZ is too small"),a<<1>1<<m&&alert("error: zip_WSIZE is too large"),o>m-1&&alert("error: zip_HASH_BITS is too large"),(8>o||258!=l)&&alert("error: Code too clever");var p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T,U,V,W,X,Y,Z,$,_,ab,bb,cb,db,eb,fb,gb,hb,ib,jb,kb,lb,mb,nb,ob,pb,qb,rb=n,sb=1<<o,tb=sb-1,ub=a-1,vb=0,wb=4096,xb=l+k+1,yb=a-xb,zb=1,Ab=15,Bb=7,Cb=29,Db=256,Eb=256,Fb=Db+1+Cb,Gb=30,Hb=19,Ib=16,Jb=17,Kb=18,Lb=2*Fb+1,Mb=parseInt((o+k-1)/k),Nb=null,Ob=function(){this.fc=0,this.dl=0},Pb=function(){this.dyn_tree=null,this.static_tree=null,this.extra_bits=null,this.extra_base=0,this.elems=0,this.max_length=0,this.max_code=0},Qb=function(a,b,c,d){this.good_length=a,this.max_lazy=b,this.nice_length=c,this.max_chain=d},Rb=function(){this.next=null,this.len=0,this.ptr=new Array(i),this.off=0},Sb=new Array(0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0),Tb=new Array(0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13),Ub=new Array(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7),Vb=new Array(16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15),Wb=new Array(new Qb(0,0,0,0),new Qb(4,4,8,4),new Qb(4,5,16,8),new Qb(4,6,32,32),new Qb(4,4,16,16),new Qb(8,16,32,32),new Qb(8,16,128,128),new Qb(8,32,128,256),new Qb(32,128,258,1024),new Qb(32,258,258,4096)),Xb=function(a){var b;if(a?1>a?a=1:a>9&&(a=9):a=e,P=a,s=!1,L=!1,null==Nb){for(p=q=r=null,Nb=new Array(i),w=new Array(j),x=new Array(rb),y=new Array(g+h),z=new Array(1<<m),S=new Array(Lb),b=0;Lb>b;b++)S[b]=new Ob;for(T=new Array(2*Gb+1),b=0;2*Gb+1>b;b++)T[b]=new Ob;for(U=new Array(Fb+2),b=0;Fb+2>b;b++)U[b]=new Ob;for(V=new Array(Gb),b=0;Gb>b;b++)V[b]=new Ob;for(W=new Array(2*Hb+1),b=0;2*Hb+1>b;b++)W[b]=new Ob;X=new Pb,Y=new Pb,Z=new Pb,$=new Array(Ab+1),_=new Array(2*Fb+1),cb=new Array(2*Fb+1),db=new Array(l-k+1),eb=new Array(512),fb=new Array(Cb),gb=new Array(Gb),hb=new Array(parseInt(n/8))}},Yb=function(a){a.next=p,p=a},Zb=function(){var a;return null!=p?(a=p,p=p.next):a=new Rb,a.next=null,a.len=a.off=0,a},$b=function(b){return z[a+b]},_b=function(b,c){return z[a+b]=c},ac=function(a){Nb[u+t++]=a,u+t==i&&Gc()},bc=function(a){a&=65535,i-2>u+t?(Nb[u+t++]=255&a,Nb[u+t++]=a>>>8):(ac(255&a),ac(a>>>8))},cc=function(){D=(D<<Mb^255&w[J+k-1])&tb,E=$b(D),z[J&ub]=E,_b(D,J)},dc=function(a,b){Dc(b[a].fc,b[a].dl)},ec=function(a){return 255&(256>a?eb[a]:eb[256+(a>>7)])},fc=function(a,b,c){return a[b].fc<a[c].fc||a[b].fc==a[c].fc&&cb[b]<=cb[c]},gc=function(a,b,c){var d;for(d=0;c>d&&qb<pb.length;d++)a[b+d]=255&pb.charCodeAt(qb++);return d},hc=function(){var b;for(b=0;sb>b;b++)z[a+b]=0;if(O=Wb[P].max_lazy,Q=Wb[P].good_length,f||(R=Wb[P].nice_length),N=Wb[P].max_chain,J=0,C=0,M=gc(w,0,2*a),0>=M)return L=!0,void(M=0);for(L=!1;xb>M&&!L;)jc();for(D=0,b=0;k-1>b;b++)D=(D<<Mb^255&w[b])&tb},ic=function(a){var b,c,d=N,e=J,g=I,h=J>yb?J-yb:vb,i=J+l,j=w[e+g-1],k=w[e+g];I>=Q&&(d>>=2);do if(b=a,w[b+g]==k&&w[b+g-1]==j&&w[b]==w[e]&&w[++b]==w[e+1]){e+=2,b++;do;while(w[++e]==w[++b]&&w[++e]==w[++b]&&w[++e]==w[++b]&&w[++e]==w[++b]&&w[++e]==w[++b]&&w[++e]==w[++b]&&w[++e]==w[++b]&&w[++e]==w[++b]&&i>e);if(c=l-(i-e),e=i-l,c>g){if(K=a,g=c,f){if(c>=l)break}else if(c>=R)break;j=w[e+g-1],k=w[e+g]}}while((a=z[a&ub])>h&&0!=--d);return g},jc=function(){var b,c,d=j-M-J;if(-1==d)d--;else if(J>=a+yb){for(b=0;a>b;b++)w[b]=w[b+a];for(K-=a,J-=a,C-=a,b=0;sb>b;b++)c=$b(b),_b(b,c>=a?c-a:vb);for(b=0;a>b;b++)c=z[b],z[b]=c>=a?c-a:vb;d+=a}L||(b=gc(w,J+M,d),0>=b?L=!0:M+=b)},kc=function(){for(;0!=M&&null==q;){var a;if(cc(),E!=vb&&yb>=J-E&&(H=ic(E),H>M&&(H=M)),H>=k)if(a=Ac(J-K,H-k),M-=H,O>=H){H--;do J++,cc();while(0!=--H);J++}else J+=H,H=0,D=255&w[J],D=(D<<Mb^255&w[J+1])&tb;else a=Ac(0,255&w[J]),M--,J++;for(a&&(zc(0),C=J);xb>M&&!L;)jc()}},lc=function(){for(;0!=M&&null==q;){if(cc(),I=H,F=K,H=k-1,E!=vb&&O>I&&yb>=J-E&&(H=ic(E),H>M&&(H=M),H==k&&J-K>wb&&H--),I>=k&&I>=H){var a;a=Ac(J-1-F,I-k),M-=I-1,I-=2;do J++,cc();while(0!=--I);G=0,H=k-1,J++,a&&(zc(0),C=J)}else 0!=G?(Ac(0,255&w[J-1])&&(zc(0),C=J),J++,M--):(G=1,J++,M--);for(;xb>M&&!L;)jc()}},mc=function(){L||(A=0,B=0,pc(),hc(),q=null,t=0,u=0,G=0,3>=P?(I=k-1,H=0):(H=k-1,G=0,G=0),v=!1)},nc=function(a,b,c){var d;return s||(mc(),s=!0,0!=M)?(d=oc(a,b,c))==c?c:v?d:(3>=P?kc():lc(),0==M&&(0!=G&&Ac(0,255&w[J-1]),zc(1),v=!0),d+oc(a,d+b,c-d)):(v=!0,0)},oc=function(a,b,c){var d,e,f;for(d=0;null!=q&&c>d;){for(e=c-d,e>q.len&&(e=q.len),f=0;e>f;f++)a[b+d+f]=q.ptr[q.off+f];if(q.off+=e,q.len-=e,d+=e,0==q.len){var g;g=q,q=q.next,Yb(g)}}if(d==c)return d;if(t>u){for(e=c-d,e>t-u&&(e=t-u),f=0;e>f;f++)a[b+d+f]=Nb[u+f];u+=e,d+=e,t==u&&(t=u=0)}return d},pc=function(){var a,b,c,d,e;if(0==V[0].dl){for(X.dyn_tree=S,X.static_tree=U,X.extra_bits=Sb,X.extra_base=Db+1,X.elems=Fb,X.max_length=Ab,X.max_code=0,Y.dyn_tree=T,Y.static_tree=V,Y.extra_bits=Tb,Y.extra_base=0,Y.elems=Gb,Y.max_length=Ab,Y.max_code=0,Z.dyn_tree=W,Z.static_tree=null,Z.extra_bits=Ub,Z.extra_base=0,Z.elems=Hb,Z.max_length=Bb,Z.max_code=0,c=0,d=0;Cb-1>d;d++)for(fb[d]=c,a=0;a<1<<Sb[d];a++)db[c++]=d;for(db[c-1]=d,e=0,d=0;16>d;d++)for(gb[d]=e,a=0;a<1<<Tb[d];a++)eb[e++]=d;for(e>>=7;Gb>d;d++)for(gb[d]=e<<7,a=0;a<1<<Tb[d]-7;a++)eb[256+e++]=d;for(b=0;Ab>=b;b++)$[b]=0;for(a=0;143>=a;)U[a++].dl=8,$[8]++;for(;255>=a;)U[a++].dl=9,$[9]++;for(;279>=a;)U[a++].dl=7,$[7]++;for(;287>=a;)U[a++].dl=8,$[8]++;for(tc(U,Fb+1),a=0;Gb>a;a++)V[a].dl=5,V[a].fc=Ec(a,5);qc()}},qc=function(){var a;for(a=0;Fb>a;a++)S[a].fc=0;for(a=0;Gb>a;a++)T[a].fc=0;for(a=0;Hb>a;a++)W[a].fc=0;S[Eb].fc=1,nb=ob=0,ib=jb=kb=0,lb=0,mb=1},rc=function(a,b){for(var c=_[b],d=b<<1;ab>=d&&(ab>d&&fc(a,_[d+1],_[d])&&d++,!fc(a,c,_[d]));)_[b]=_[d],b=d,d<<=1;_[b]=c},sc=function(a){var b,c,d,e,f,g,h=a.dyn_tree,i=a.extra_bits,j=a.extra_base,k=a.max_code,l=a.max_length,m=a.static_tree,n=0;for(e=0;Ab>=e;e++)$[e]=0;for(h[_[bb]].dl=0,b=bb+1;Lb>b;b++)c=_[b],e=h[h[c].dl].dl+1,e>l&&(e=l,n++),h[c].dl=e,c>k||($[e]++,f=0,c>=j&&(f=i[c-j]),g=h[c].fc,nb+=g*(e+f),null!=m&&(ob+=g*(m[c].dl+f)));if(0!=n){do{for(e=l-1;0==$[e];)e--;$[e]--,$[e+1]+=2,$[l]--,n-=2}while(n>0);for(e=l;0!=e;e--)for(c=$[e];0!=c;)d=_[--b],d>k||(h[d].dl!=e&&(nb+=(e-h[d].dl)*h[d].fc,h[d].fc=e),c--)}},tc=function(a,b){var c,d,e=new Array(Ab+1),f=0;for(c=1;Ab>=c;c++)f=f+$[c-1]<<1,e[c]=f;for(d=0;b>=d;d++){var g=a[d].dl;0!=g&&(a[d].fc=Ec(e[g]++,g))}},uc=function(a){var b,c,d=a.dyn_tree,e=a.static_tree,f=a.elems,g=-1,h=f;for(ab=0,bb=Lb,b=0;f>b;b++)0!=d[b].fc?(_[++ab]=g=b,cb[b]=0):d[b].dl=0;for(;2>ab;){var i=_[++ab]=2>g?++g:0;d[i].fc=1,cb[i]=0,nb--,null!=e&&(ob-=e[i].dl)}for(a.max_code=g,b=ab>>1;b>=1;b--)rc(d,b);do b=_[zb],_[zb]=_[ab--],rc(d,zb),c=_[zb],_[--bb]=b,_[--bb]=c,d[h].fc=d[b].fc+d[c].fc,cb[h]=cb[b]>cb[c]+1?cb[b]:cb[c]+1,d[b].dl=d[c].dl=h,_[zb]=h++,rc(d,zb);while(ab>=2);_[--bb]=_[zb],sc(a),tc(d,g)},vc=function(a,b){var c,d,e=-1,f=a[0].dl,g=0,h=7,i=4;for(0==f&&(h=138,i=3),a[b+1].dl=65535,c=0;b>=c;c++)d=f,f=a[c+1].dl,++g<h&&d==f||(i>g?W[d].fc+=g:0!=d?(d!=e&&W[d].fc++,W[Ib].fc++):10>=g?W[Jb].fc++:W[Kb].fc++,g=0,e=d,0==f?(h=138,i=3):d==f?(h=6,i=3):(h=7,i=4))},wc=function(a,b){var c,d,e=-1,f=a[0].dl,g=0,h=7,i=4;for(0==f&&(h=138,i=3),c=0;b>=c;c++)if(d=f,f=a[c+1].dl,!(++g<h&&d==f)){if(i>g){do dc(d,W);while(0!=--g)}else 0!=d?(d!=e&&(dc(d,W),g--),dc(Ib,W),Dc(g-3,2)):10>=g?(dc(Jb,W),Dc(g-3,3)):(dc(Kb,W),Dc(g-11,7));g=0,e=d,0==f?(h=138,i=3):d==f?(h=6,i=3):(h=7,i=4)}},xc=function(){var a;for(vc(S,X.max_code),vc(T,Y.max_code),uc(Z),a=Hb-1;a>=3&&0==W[Vb[a]].dl;a--);return nb+=3*(a+1)+5+5+4,a},yc=function(a,b,c){var d;for(Dc(a-257,5),Dc(b-1,5),Dc(c-4,4),d=0;c>d;d++)Dc(W[Vb[d]].dl,3);wc(S,a-1),wc(T,b-1)},zc=function(a){var e,f,g,h;if(h=J-C,hb[kb]=lb,uc(X),uc(Y),g=xc(),e=nb+3+7>>3,f=ob+3+7>>3,e>=f&&(e=f),e>=h+4&&C>=0){var i;for(Dc((b<<1)+a,3),Fc(),bc(h),bc(~h),i=0;h>i;i++)ac(w[C+i])}else f==e?(Dc((c<<1)+a,3),Bc(U,V)):(Dc((d<<1)+a,3),yc(X.max_code+1,Y.max_code+1,g+1),Bc(S,T));qc(),0!=a&&Fc()},Ac=function(a,b){if(y[ib++]=b,0==a?S[b].fc++:(a--,S[db[b]+Db+1].fc++,T[ec(a)].fc++,x[jb++]=a,lb|=mb),mb<<=1,0==(7&ib)&&(hb[kb++]=lb,lb=0,mb=1),P>2&&0==(4095&ib)){var c,d=8*ib,e=J-C;for(c=0;Gb>c;c++)d+=T[c].fc*(5+Tb[c]);if(d>>=3,jb<parseInt(ib/2)&&d<parseInt(e/2))return!0}return ib==n-1||jb==rb},Bc=function(a,b){var c,d,e,f,g=0,h=0,i=0,j=0;if(0!=ib)do 0==(7&g)&&(j=hb[i++]),d=255&y[g++],0==(1&j)?dc(d,a):(e=db[d],dc(e+Db+1,a),f=Sb[e],0!=f&&(d-=fb[e],Dc(d,f)),c=x[h++],e=ec(c),dc(e,b),f=Tb[e],0!=f&&(c-=gb[e],Dc(c,f))),j>>=1;while(ib>g);dc(Eb,a)},Cc=16,Dc=function(a,b){B>Cc-b?(A|=a<<B,bc(A),A=a>>Cc-B,B+=b-Cc):(A|=a<<B,B+=b)},Ec=function(a,b){var c=0;do c|=1&a,a>>=1,c<<=1;while(--b>0);return c>>1},Fc=function(){B>8?bc(A):B>0&&ac(A),A=0,B=0},Gc=function(){if(0!=t){var a,b;for(a=Zb(),null==q?q=r=a:r=r.next=a,a.len=t-u,b=0;b<a.len;b++)a.ptr[b]=Nb[u+b];t=u=0}},Hc=function(a,b){var c,d;pb=a,qb=0,"undefined"==typeof b&&(b=e),Xb(b);for(var f=new Array(1024),g=[];(c=nc(f,0,f.length))>0;){var h=new Array(c);for(d=0;c>d;d++)h[d]=String.fromCharCode(f[d]);g[g.length]=h.join("")}return pb=null,g.join("")};window.RawDeflate||(RawDeflate={}),RawDeflate.deflate=Hc}(),function(){var a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q=32768,r=0,s=9,t=6,u=null,v=new Array(0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535),w=new Array(3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0),x=new Array(0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,99,99),y=new Array(1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577),z=new Array(0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13),A=new Array(16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15),B=function(){this.next=null,this.list=null},C=function(){this.e=0,this.b=0,this.n=0,this.t=null},D=function(a,b,c,d,e,f){this.BMAX=16,this.N_MAX=288,this.status=0,this.root=null,this.m=0;var g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x=new Array(this.BMAX+1),y=new Array(this.BMAX+1),z=new C,A=new Array(this.BMAX),D=new Array(this.N_MAX),E=new Array(this.BMAX+1);for(w=this.root=null,l=0;l<x.length;l++)x[l]=0;for(l=0;l<y.length;l++)y[l]=0;for(l=0;l<A.length;l++)A[l]=null;for(l=0;l<D.length;l++)D[l]=0;for(l=0;l<E.length;l++)E[l]=0;h=b>256?a[256]:this.BMAX,o=a,p=0,l=b;do x[o[p]]++,p++;while(--l>0);if(x[0]==b)return this.root=null,this.m=0,void(this.status=0);for(m=1;m<=this.BMAX&&0==x[m];m++);for(n=m,m>f&&(f=m),l=this.BMAX;0!=l&&0==x[l];l--);for(j=l,f>l&&(f=l),t=1<<m;l>m;m++,t<<=1)if((t-=x[m])<0)return this.status=2,void(this.m=f);if((t-=x[l])<0)return this.status=2,void(this.m=f);for(x[l]+=t,E[1]=m=0,o=x,p=1,s=2;--l>0;)E[s++]=m+=o[p++];o=a,p=0,l=0;do 0!=(m=o[p++])&&(D[E[m]++]=l);while(++l<b);for(b=E[j],E[0]=l=0,o=D,p=0,k=-1,r=y[0]=0,q=null,u=0;j>=n;n++)for(g=x[n];g-->0;){for(;n>r+y[1+k];){if(r+=y[1+k],k++,u=(u=j-r)>f?f:u,(i=1<<(m=n-r))>g+1)for(i-=g+1,s=n;++m<u&&!((i<<=1)<=x[++s]);)i-=x[s];for(r+m>h&&h>r&&(m=h-r),u=1<<m,y[1+k]=m,q=new Array(u),v=0;u>v;v++)q[v]=new C;w=null==w?this.root=new B:w.next=new B,w.next=null,w.list=q,A[k]=q,k>0&&(E[k]=l,z.b=y[k],z.e=16+m,z.t=q,m=(l&(1<<r)-1)>>r-y[k],A[k-1][m].e=z.e,A[k-1][m].b=z.b,A[k-1][m].n=z.n,A[k-1][m].t=z.t)}for(z.b=n-r,p>=b?z.e=99:o[p]<c?(z.e=o[p]<256?16:15,z.n=o[p++]):(z.e=e[o[p]-c],z.n=d[o[p++]-c]),i=1<<n-r,m=l>>r;u>m;m+=i)q[m].e=z.e,q[m].b=z.b,q[m].n=z.n,q[m].t=z.t;for(m=1<<n-1;0!=(l&m);m>>=1)l^=m;for(l^=m;(l&(1<<r)-1)!=E[k];)r-=y[k],k--}this.m=y[1],this.status=0!=t&&1!=j?1:0},E=function(){return o.length==p?-1:255&o.charCodeAt(p++)},F=function(a){for(;a>f;)e|=E()<<f,f+=8},G=function(a){return e&v[a]},H=function(a){e>>=a,f-=a},I=function(c,d,e){var f,h,o;if(0==e)return 0;for(o=0;;){for(F(m),h=k.list[G(m)],f=h.e;f>16;){if(99==f)return-1;H(h.b),f-=16,F(f),h=h.t[G(f)],f=h.e}if(H(h.b),16!=f){if(15==f)break;for(F(f),i=h.n+G(f),H(f),F(n),h=l.list[G(n)],f=h.e;f>16;){if(99==f)return-1;H(h.b),f-=16,F(f),h=h.t[G(f)],f=h.e}for(H(h.b),F(f),j=b-h.n-G(f),H(f);i>0&&e>o;)i--,j&=q-1,b&=q-1,c[d+o++]=a[b++]=a[j++];if(o==e)return e}else if(b&=q-1,c[d+o++]=a[b++]=h.n,o==e)return e}return g=-1,o},J=function(c,d,h){var j;if(j=7&f,H(j),F(16),j=G(16),H(16),F(16),j!=(65535&~e))return-1;for(H(16),i=j,j=0;i>0&&h>j;)i--,b&=q-1,F(8),c[d+j++]=a[b++]=G(8),H(8);return 0==i&&(g=-1),j},K=function(a,b,e){if(null==u){var f,g,h=new Array(288);for(f=0;144>f;f++)h[f]=8;for(;256>f;f++)h[f]=9;for(;280>f;f++)h[f]=7;for(;288>f;f++)h[f]=8;if(d=7,g=new D(h,288,257,w,x,d),0!=g.status)return alert("HufBuild error: "+g.status),-1;for(u=g.root,d=g.m,f=0;30>f;f++)h[f]=5;if(zip_fixed_bd=5,g=new D(h,30,0,y,z,zip_fixed_bd),g.status>1)return u=null,alert("HufBuild error: "+g.status),-1;c=g.root,zip_fixed_bd=g.m}return k=u,l=c,m=d,n=zip_fixed_bd,I(a,b,e)},L=function(a,b,c){var d,e,f,g,h,i,j,o,p,q=new Array(316);for(d=0;d<q.length;d++)q[d]=0;if(F(5),j=257+G(5),H(5),F(5),o=1+G(5),H(5),F(4),i=4+G(4),H(4),j>286||o>30)return-1;for(e=0;i>e;e++)F(3),q[A[e]]=G(3),H(3);for(;19>e;e++)q[A[e]]=0;if(m=7,p=new D(q,19,19,null,null,m),0!=p.status)return-1;for(k=p.root,m=p.m,g=j+o,d=f=0;g>d;)if(F(m),h=k.list[G(m)],e=h.b,H(e),e=h.n,16>e)q[d++]=f=e;else if(16==e){if(F(2),e=3+G(2),H(2),d+e>g)return-1;for(;e-->0;)q[d++]=f}else if(17==e){if(F(3),e=3+G(3),H(3),d+e>g)return-1;for(;e-->0;)q[d++]=0;f=0}else{if(F(7),e=11+G(7),H(7),d+e>g)return-1;for(;e-->0;)q[d++]=0;f=0}if(m=s,p=new D(q,j,257,w,x,m),0==m&&(p.status=1),0!=p.status)return 1==p.status,-1;for(k=p.root,m=p.m,d=0;o>d;d++)q[d]=q[d+j];return n=t,p=new D(q,o,0,y,z,n),l=p.root,n=p.m,0==n&&j>257?-1:(1==p.status,0!=p.status?-1:I(a,b,c))},M=function(){null==a&&(a=new Array(2*q)),b=0,e=0,f=0,g=-1,h=!1,i=j=0,k=null},N=function(c,d,e){var f,l;for(f=0;e>f;){if(h&&-1==g)return f;if(i>0){if(g!=r)for(;i>0&&e>f;)i--,j&=q-1,b&=q-1,c[d+f++]=a[b++]=a[j++];else{for(;i>0&&e>f;)i--,b&=q-1,F(8),c[d+f++]=a[b++]=G(8),H(8);0==i&&(g=-1)}if(f==e)return f}if(-1==g){if(h)break;F(1),0!=G(1)&&(h=!0),H(1),F(2),g=G(2),H(2),k=null,i=0}switch(g){case 0:l=J(c,d+f,e-f);break;case 1:l=null!=k?I(c,d+f,e-f):K(c,d+f,e-f);break;case 2:l=null!=k?I(c,d+f,e-f):L(c,d+f,e-f);break;default:l=-1}if(-1==l)return h?0:-1;f+=l}return f},O=function(a){var b,c;M(),o=a,p=0;for(var d=new Array(1024),e=[];(b=N(d,0,d.length))>0;){var f=new Array(b);for(c=0;b>c;c++)f[c]=String.fromCharCode(d[c]);e[e.length]=f.join("")}return o=null,e.join("")};window.RawDeflate||(RawDeflate={}),RawDeflate.inflate=O}();var Om;!function(){var a=Array.prototype.slice;Om={prependArgumentsByObject:function(b,c){var d=a.apply(c);return d.unshift(b),d},htmlspecialchars:function(a,b){return"string"==typeof a&&(b||(a=a.replace(/&/g,"&amp;")),a=a.replace(/"/g,"&quot;"),a=a.replace(/'/g,"&#039;"),a=a.replace(/</g,"&lt;"),a=a.replace(/>/g,"&gt;")),a},rhtmlspecialchars:function(a){return"string"==typeof a&&(a=a.replace(/&gt;/gi,">"),a=a.replace(/&lt;/gi,"<"),a=a.replace(/&#039;/g,"'"),a=a.replace(/&quot;/gi,'"'),a=a.replace(/&amp;/gi,"&")),a},utf8_to_b64:function(a){return window.btoa(unescape(encodeURIComponent(a)))},b64_to_utf8:function(a){return decodeURIComponent(escape(window.atob(a)))}}}(),ns("Tortuga.Vm"),Tortuga.Vm.DrawingSystem,function(){var a=function(a){var b=a.getContext("2d");return b.lineJoin="round",b.lineCap="round",b},b=function(a,b,c){return{x:b,y:a.canvas.height-c}},c=function(a,b,c){return{x:b,y:a.canvas.height-c}},d=function(a){a.clearRect(0,0,a.canvas.width,a.canvas.height)},e=function(a,b){a.strokeStyle=b},f=function(a,b){a.lineWidth=b},g=function(a,b){a.lineCap=b},h=function(a,b,c,d){c=a.canvas.height-c;var e=a.getImageData(b,c,1,1).data,f=e[3]?{red:e[0],green:e[1],blue:e[2]}:{red:255,green:255,blue:255};return d&&(f.alpha=e[3]),f},i=function(a){var b=document.createElement("DIV");b.className="om-tortoise-div",a.appendChild(b);var c=document.createElement("DIV");c.className="om-tortoise-pointer",b.appendChild(c);var d=document.createElement("DIV");d.className="om-tortoise-color",b.appendChild(d);var e=document.createElement("DIV");return e.className="om-tortoise-image",b.appendChild(e),{main:b,pointer:c,color:d}},j=function(a){return 90-a},k=function(a){return a/180*Math.PI},l=function(a){var b=a.tortoiseCounter;return a.tortoises[b]=i(a.tortoiseContainer),a.tortoiseCounter++,b},m=function(a,b){var c=a.tortoises[b];delete a.tortoises[b],a.tortoiseContainer.removeChild(c.main)},n=function(a,b,c,d,e,f,g){var h=a.tortoises[b],i=h.main,l=k(e),m=j(e),n=i.offsetWidth*(Math.cos(l)-Math.sin(l)/2),o=i.offsetWidth*(Math.cos(l)/2+Math.sin(l)-1);i.style.left=c+n+"px",i.style.bottom=d+o+"px";var p="rotate("+m+"deg)",q="0% 0%";i.style.webkitTransform=p,i.style.webkitTransformOrigin=q,i.style.MozTransform=p,i.style.MozTransformOrigin=q,i.style.OTransform=p,i.style.OTransformOrigin=q,i.style.msTransform=p,i.style.msTransformOrigin=q,h.pointer.style.background=f?g:"none",h.color.style["border-color"]=g,h.color.style.borderColor=g},o=function(b,c){var d=a(b);this.ctx=d,this.ctx.setTransform(1,0,0,-1,0,b.height),this.tortoiseContainer=c,this.tortoises={},this.tortoiseCounter=0};o.prototype={setColor:function(a){e(this.ctx,a)},getColorAt:function(a,b){return h(this.ctx,a,b,!1)},getColorWithAlphaAt:function(a,b){return h(this.ctx,a,b,!0)},setWidth:function(a){f(this.ctx,a)},moveTo:function(a,b){this.ctx.moveTo(a,b)},lineTo:function(a,b){this.ctx.lineTo(a,b)},beginPath:function(){this.ctx.beginPath()},stroke:function(){this.ctx.stroke()},clearCanvas:function(){d(this.ctx)},setCapsStyle:function(a){g(this.ctx,a)},getCanvas:function(){return this.ctx.canvas},convertCoordsTortugaToCanvas:function(a,c){return b(this.ctx,a,c)},convertCoordsCanvasToTortuga:function(a,b){return c(this.ctx,a,b)},createTortoise:function(){return l(this)},placeTortoise:function(a,b,c,d,e,f){n(this,a,b,c,d,e,f)},destroyTortoise:function(a){m(this,a)}},Tortuga.Vm.DrawingSystem=o}(),ns("Tortuga.Vm"),Tortuga.Vm.TortoiseRunner,function(){var a={__move:1},b={__line:1},c="round",d="butt",e=function(a){return a/180*Math.PI},f=function(a,b,d,e,f,g){this.dsTortoise=g,this.x=a,this.y=b,this.deg=0,this.isDrawing=!1,this.color=d,this.width=e||1,this.style_caps=f||c},g=function(a,b){this.trTortoise=a,this.x=a.x,this.y=a.y,this.color=a.color,this.width=a.width,this.style_caps=a.style_caps,this.moveOrLine=b};g.prototype.equals=function(a){return this.x==a.x&&this.y==a.y&&this.color==a.color&&this.width==a.width&&this.style_caps==a.style_caps&&this.trTortoise==a.trTortoise};var h=function(c,d){var e=c.points;if(0==e.length||d.moveOrLine==b)return void e.push(d);var f=e[e.length-1];return f.moveOrLine==a?(e.pop(),h(c,d)):f.equals(d)?void 0:void e.push(d)},i=function(a){var b=a.drawingSystem;a.tortoises.forEach(function(a){b.placeTortoise(a.dsTortoise,a.x,a.y,a.deg,a.isDrawing,a.color)})},j=function(b){var c=b.drawingSystem,d=!1;b.points.forEach(function(b){b.moveOrLine==a?(d?c.stroke():d=!0,c.beginPath(),c.setColor(b.color),c.setWidth(b.width),c.setCapsStyle(b.style_caps),c.moveTo(b.x,b.y)):c.lineTo(b.x,b.y)}),d&&c.stroke()},k=function(a,b,c,d,e,g,h){var i=a.drawingSystem.createTortoise(),j=new f(b,c,d,e,g,i);a.tortoises.push(j),h(j)},l=function(a){a.drawingSystem.clearCanvas()},m=function(c,d,f){f=f||0;var i=d(),j=i.isDrawing;j&&h(c,new g(i,a));var k=e(i.deg);i.x+=f*Math.cos(k),i.y+=f*Math.sin(k),j&&h(c,new g(i,b))},n=function(a,b){b().isDrawing=!0},o=function(a,b){b().isDrawing=!1},p=function(a,b,c){c=c||0,b().deg+=c},q=function(a,b,c){b().color=c},r=function(a,b,c){b().x=c},s=function(a,b,c){c(b().x)},t=function(a,b,c){b().y=c},u=function(a,b,c){c(b().y)},v=function(a,b,c){c(b().deg)},w=function(a,b,c){b().deg=c},x=function(a,b){b().style_caps=d},y=function(a,b){b().style_caps=c},z=function(a,b,c){b().width=c},A=function(a,b,c,d){var f=b();c=c||0;var g=e(f.deg),h=f.x+c*Math.cos(g),i=f.y+c*Math.sin(g);d(a.drawingSystem.getColorAt(h,i))},B=function(a,b){var c=b(),d=a.tortoises,e=d.indexOf(c);-1!=e&&(d.splice(e,1),a.drawingSystem.destroyTortoise(c.dsTortoise))},C=function(){},D=function(a,b,c){b(a),c(a)},E=function(a,b){b.forEach(function(b){b(a)})},F=function(a,b,c){for(var d=0;b>d;++d)c(a)},G=function(){var a=arguments[0],b=arguments,c=function(c){b[0]=c,a.apply(null,b),b[0]=a};return c.args=b,c},H=function(a,b){a.args[1].push(b)},I=function(a,b){var c=a.args[1].concat(b.args[1]);return G(E,c)},J=function(a){this.drawingSystem=a,this.tortoises=[]};J.prototype={run:function(a){var b=this;b.points=[];b.drawingSystem;a(b),j(b),i(b)}},J.commands={create:k,clearCanvas:l,go:m,tailDown:n,tailUp:o,rotate:p,setColor:q,setWidth:z,setX:r,getX:s,setY:t,getY:u,getAngle:v,setAngle:w,capsRound:y,capsSquare:x,kill:B,nil:C,pair:D,seq:E,repeat:F,getColorUnderTail:A},J.constructCommand=G,J.appendCommandToSeq=H,J.concatSeqs=I,Tortuga.Vm.TortoiseRunner=J}(),ns("Tortuga.Vm"),Tortuga.Vm.JsConverter,function(){var a=Tortuga.Vm.TortoiseRunner,b=function(b){return a.constructCommand.apply(a,b)},c=function(){return b([a.commands.seq,[]])},d=function(b,c){a.appendCommandToSeq(b,c)},e=function(b,c){return a.concatSeqs(b,c)},f=function(c,d){return b([a.commands.repeat,c,d])},g=function(a,b){this.node=a,b[0]=null,this.params=b};g.prototype.process=function(){this.node.process.apply(this.node,arguments)};var h=function(a){this.command=a};h.prototype.process=function(a,c){var e=c.params,f=e[0];e[0]=this.command;var g=b(e);e[0]=f,d(a.currentCommand,g)};var i=function(a){this.command=a};i.prototype.process=function(a,c){var e=c.params,f=e[0],g=e[1];e[0]=this.command,e[1]=function(){return g.value};var h=b(e);e[0]=f,e[1]=g,d(a.currentCommand,h)};var j=function(a){this.command=a};j.prototype.process=function(a,c){for(var e=new F,f=[this.command],g=c.params,h=g.length,i=1;h>i;++i)f.push(g[i]);f.push(function(a){e.value=a});var j=b(f);d(a.currentCommand,j),a.result=e};var k=function(a){this.command=a};k.prototype.process=function(a,c){var e=new F,f=[this.command],g=c.params,h=g[1];f.push(function(){return h.value});for(var i=g.length,j=2;i>j;++j)f.push(g[j]);f.push(function(a){e.value=a});var k=b(f);d(a.currentCommand,k),a.result=e};var l={process:function(a,b){a.commandsStack.push(a.currentCommand),a.nodesStack.push(b),a.currentCommand=c()}},m={process:function(a,b){a.commandsStack.push(a.currentCommand),a.nodesStack.push(b),a.currentCommand=c()}},n={process:function(a){var b=a.nodesStack.pop(),g=a.currentCommand;switch(b.node){case m:var h=f(b.params[1],g);g=c(),d(g,h);break;case l:}var i=a.commandsStack.pop();a.currentCommand=e(i,g)}},o=new j(a.commands.create),p=new k(a.commands.getColorUnderTail),q=new k(a.commands.getX),r=new k(a.commands.getY),s=new k(a.commands.getAngle),t=new i(a.commands.go),u=new i(a.commands.rotate),v=new i(a.commands.tailUp),w=new i(a.commands.tailDown),x=new i(a.commands.setWidth),y=new i(a.commands.setColor),z=new i(a.commands.setX),A=new i(a.commands.setY),B=new i(a.commands.setAngle),C=new i(a.commands.capsRound),D=new i(a.commands.capsSquare),E=new h(a.commands.clearCanvas),F=function(a){this.value=a},G=function(a){this.tortoiseRunner=a,this.nodesStack=[],this.commandsStack=[],this.currentCommand=c()};G.prototype.parseNode=function(a){this.result=null;var b=new g(a,arguments);return b.process(this,b),0==this.nodesStack.length&&(this.tortoiseRunner.run(this.currentCommand),this.currentCommand=c()),this.result},G.prototype.nodes={begin:l,repeat:m,end:n,create:o,go:t,setX:z,getX:q,setY:A,getY:r,rotate:u,tailUp:v,tailDown:w,setWidth:x,setColor:y,capsRound:C,capsSquare:D,clearCanvas:E,getAngle:s,setAngle:B,getColorUnderTail:p},Tortuga.Vm.JsConverter=G}(),ns("Tortuga.Vm");var createTortoise,clearCanvas,repeat,begin,end;Tortuga.Vm.initTortoise,function(){var a=Om.prependArgumentsByObject,b=(Tortuga.Vm.TortoiseRunner,function(a,b,c,d,e,f){return a.parseNode(a.nodes.create,b,c,d,e,f)}),c=function(a,b,c){return a.parseNode(a.nodes.getColorUnderTail,b,c).value},d=function(a,b){return a.parseNode(a.nodes.getX,b).value},e=function(a,b){return a.parseNode(a.nodes.getY,b).value},f=function(a,b){return{x:a.parseNode(a.nodes.getX,b).value,y:a.parseNode(a.nodes.getY,b).value}},g=function(a,b,c,d){"number"==typeof c?(a.parseNode(a.nodes.setX,b,c),a.parseNode(a.nodes.setY,b,d)):(a.parseNode(a.nodes.setX,b,c.x),a.parseNode(a.nodes.setY,b,c.y))},h=function(a,b){return a.parseNode(a.nodes.getAngle,b).value},i=function(a,b,c){for(var d in a)b[d]=c(a[d])},j=function(b,c){return function(){var d=a(this.jsTortoise,arguments);return d=a(b,d),c.parseNode.apply(c,d),this}},k=function(b,c){return function(){var d=a(b,arguments);return c.parseNode.apply(c,d)}},l=function(a){return{go:a.nodes.go,rotate:a.nodes.rotate,tailUp:a.nodes.tailUp,tailDown:a.nodes.tailDown,setColor:a.nodes.setColor,setWidth:a.nodes.setWidth,capsRound:a.nodes.capsRound,capsSquare:a.nodes.capsSquare,setX:a.nodes.setX,getX:a.nodes.getX,setY:a.nodes.setY,getY:a.nodes.getY,getAngle:a.nodes.getAngle,setAngle:a.nodes.setAngle}};Tortuga.Vm.initTortoise=function(a,m){var n=function(c,d,e,f,g){c=void 0===c?Math.floor(a.offsetWidth/2):c,d=void 0===d?Math.floor(a.offsetHeight/2):d,e=e||"#0a0",f=f||1,g=g||"round",this.jsTortoise=b(m,c,d,e,f,g)};i(l(m),n.prototype,function(a){return j(a,m)}),n.prototype.getColorUnderTail=function(a){return c(m,this.jsTortoise,a)},n.prototype.getX=function(){return d(m,this.jsTortoise)},n.prototype.getY=function(){return e(m,this.jsTortoise)},n.prototype.getCoords=function(){return f(m,this.jsTortoise)},n.prototype.setCoords=function(a,b){return g(m,this.jsTortoise,a,b)},n.prototype.getAngle=function(){return h(m,this.jsTortoise)};var o=n.prototype;o.fw=o.go,o.forward=o.go,o.lt=o.rotate,o.rt=function(a){return this.rotate(a?-a:0)},o.up=o.tailUp,o.dw=o.tailDown,clearCanvas=k(m.nodes.clearCanvas,m),begin=k(m.nodes.begin,m),repeat=k(m.nodes.repeat,m),end=k(m.nodes.end,m),createTortoise=function(b,c,d,e,f){return new n(b,c,d,e,f,a,m)}}}(),ns("Tortuga.Vm."),Tortuga.Vm.initVm=function(a,b){var c=new Tortuga.Vm.DrawingSystem(a,b),d=new Tortuga.Vm.TortoiseRunner(c),e=new Tortuga.Vm.JsConverter(d);return{drawingSystem:c,tortoiseRunner:d,jsConverter:e}},ns("Tortuga"),Tortuga.initFiles=function(a,b,c,d){var e=function(a,b){for(var c=a.length,d=0;c>d;++d)b(a[d])},f=function(a){console.log(a),c();var b=document.createElement("script");b.innerHTML=a;var e=document.getElementsByTagName("head")[0];e.appendChild(b),d()},g=function(a){var b=new FileReader;b.onload=function(a){f(a.target.result)},b.readAsText(a)},h=function(a){e(a.target.files,g),a.target.value=""},i=function(a){a.preventDefault?a.preventDefault():a.returnValue=!1},j=function(a){i(a),b.classList.add("tortuga-canvasContainer-dragging")},k=function(){b.classList.remove("tortuga-canvasContainer-dragging")},l=function(a){if(b.classList.remove("tortuga-canvasContainer-dragging"),a.dataTransfer.files){for(var c=a.dataTransfer.files,d=0;d<c.length;d++)g(c[d]);i(a)}if(a.dataTransfer.getData("Text")){var e=a.dataTransfer.getData("Text");f(e),i(a)}return!1};a.addEventListener("change",h,!1),b.addEventListener("dragleave",k,!1),b.addEventListener("dragover",j,!1),b.addEventListener("drop",l,!1)},ns("Tortuga"),Tortuga.initHelp,function(){var a="sideHelp-shown",b="pointer",c=function(){return!1},d=function(a,b){a.classList.add(b)},e=function(a,b){a.classList.remove(b)},f=function(a,e){return function(f){f.onclick=function(){a(e)},f.onmousedown=c,d(f,b)}},g={};g.showHelp=function(b){b.helpDivs.forEach(function(b){d(b,a)}),b.helpButtons.forEach(f(g.hideHelp,b))},g.hideHelp=function(b){b.helpDivs.forEach(function(b){e(b,a)}),b.helpButtons.forEach(f(g.showHelp,b))},Tortuga.initHelp=function(a,b){g.hideHelp({helpButtons:a,helpDivs:b})}}(),ns("Tortuga"),Tortuga.Agent,function(){var a=function(a,b){for(var c=a.length,d=0;c>d;++d)if(b(a[d]))return!0;return!1},b=function(a){return-1!=navigator.userAgent.indexOf(a)},c=function(){return b("Mac")},d=function(){return b("Chrome")},e=function(){return b("Firefox")},f=function(){return b("Safari")},g=function(){return b("Opera")},h=function(){return!b("MSIE 8")&&(a([9,10],function(a){return b("MSIE "+a)})||b("Trident"))},i=function(a,b){var c=b?"Консоль открывается нажатием клавиши":"Консоль открывается сочетанием клавиш";return a&&c+": <b>"+a+".</b>"},j=function(a){return i(a)+" Чтобы получить возможность открывать консоль, нужно включить <a href='http://developer.apple.com/library/safari/#documentation/appleapplications/Conceptual/Safari_Developer_Guide/1Introduction/Introduction.html'>инструменты разработки</a> в&nbsp;настройках браузера."},k=function(){return"Страница предназначена для работы только в&nbsp;<a href='https://www.google.com/intl/en/chrome/'>Хроме</a> и&nbsp;<a href='http://ru.wikipedia.org/wiki/Chromium#.D0.9F.D1.80.D0.B8.D0.BB.D0.BE.D0.B6.D0.B5.D0.BD.D0.B8.D1.8F.2C_.D0.BE.D1.81.D0.BD.D0.BE.D0.B2.D0.B0.D0.BD.D0.BD.D1.8B.D0.B5_.D0.BD.D0.B0_Chromium'>других</a> хромоподобных <a href='http://browser.yandex.ru'>браузерах</a>."},l=function(){return"<div class='top-warning'>"+k()+"</div>"},m=function(a,b){return"<div class='top-notification'>"+a(b)+"</div>"},n=function(a){return m(j,a)},o=function(a){return m(i,a)},p={hotkeys:[null,null],helpTextFun:k,topTextFun:l,showTop:!0},q={hotkeys:["Ctrl + Shift + J","⌥⌘J"],helpTextFun:i,topTextFun:o,showTop:!1},r={hotkeys:["Ctrl + Shift + K","⌥⌘K"],helpTextFun:i,topTextFun:o,showTop:!1},s={hotkeys:["Ctrl + Shift + C","⌥⌘C"],helpTextFun:j,topTextFun:n,showTop:!0},t={hotkeys:["Ctrl + Shift + I","⌥⌘I"],helpTextFun:i,topTextFun:o,showTop:!1},u={hotkeys:["F12","F12"],hotkeySingle:!0,helpTextFun:i,topTextFun:o,showTop:!1},v=0,w=1,x=d()?q:e()?r:f()?s:g()?t:h()?u:p,y=c()?w:v,z=x.hotkeys[y],A=x.hotkeySingle;Tortuga.Agent={hotkey:z,topText:x.topTextFun(z),helpText:x.helpTextFun(z,A),showTop:x.showTop}}(),ns("Tortuga"),Tortuga.initLessons,function(){var a=Om.htmlspecialchars,b="tortuga-lessonsContainers-empty",c="tortuga-lessonsListContainer-list",d="tortuga-lessonsListContainer-header",e="tortuga-lessonsListContainer-item",f="tortuga-lessonsListContainer-itemSelected",g="tortuga-lessonsListContainer-item-number",h="tortuga-lessonsListContainer-item-text",i="tortuga-lessonsListContainer-item-textSelected",j=function(a,b){a.classList.add(b)},k=function(a,b){a.classList.remove(b)},l=function(){var a=document.URL.indexOf("#");if(-1!=a){var b=document.URL.slice(a+1);return b}return""},m=function(){var a=document.URL.indexOf("?");if(-1!=a){var b=document.URL.slice(a+1,a+1+Tortuga.ParamsUtil.givCurrentVersion().length);return b}return""},n=function(a){var b='<a href="$1">$2</a>',c="&lt;a href=",d="&quot;(.*?)&quot;",e="&#039;(.*?)&#039;",f="&gt;(.*?)&lt;/a&gt;",g=new RegExp(c+d+f,"gi"),h=new RegExp(c+e+f,"gi");return a.replace(g,b).replace(h,b)},o=function(a){return a.replace(/&lt;br&gt;/gi,"<br/>").replace(/&lt;br\/&gt;/gi,"<br/>")},p=function(a,b,c,d,e,g,h,l){var m=e;l.setLessonsTitle(a.title),h.innerHTML=n(a.description),g.style.backgroundImage='url("'+a.src+'")',void 0!==d&&(window.location.hash=d),m.itemText&&k(m.itemText,i),m.itemDiv&&k(m.itemDiv,f),m.itemText=b,m.itemDiv=c,j(b,i),j(c,f)},q=function(b,c,d,f,i,k,l){var m={src:a(c.src),title:a(c.title,!0),description:o(n(a(c.description,!0)))},q=f,r=document.createElement("DIV");j(r,g),r.innerHTML=k;var s=document.createElement("DIV");j(s,h),s.innerHTML=m.title;var t=document.createElement("LI");j(t,e);var u=function(){p(m,s,t,k,q,d,i,l)};return t.onclick=u,t.appendChild(r),t.appendChild(s),b.appendChild(t),{selectCurrent:u}},r=function(a,b,d,e){var f=document.createElement("UL");j(f,c);for(var g=a.length,h={},i=function(a,c){return q(f,a,b,h,d,c,e)},k=i(a[0],0),m=l(),n=1;g>n;++n){var o=i(a[n],n);m==n&&(k=o)}return k.selectCurrent(),f},s=function(a,b){this.tortugaEnv=a,this.title=b};s.prototype.setLessonsTitle=function(a){this.tortugaEnv.setLessonsTitle(a+" \\ "+this.title)};var t=function(a,b,c,d,e){b.appendChild(r(e.items,a,c,new s(d,e.title)))},u=function(a,b,c,d,e){for(var f=1;f<=b.children.length;f++){var g=b.children[f];b.removeChild(g)}t(a,b,c,d,e)
},v=function(){var a=window.location.pathname;location=a};Tortuga.initLessons=function(a,c,e,f,g){var h=Tortuga.ParamsUtil.getLesson();if(null==h||"indexpage"==h)return null!=g&&g.forEach(function(a){j(a,b)}),void(null==h&&(alert("Некорректная ссылка. Ошибка открытия урока."),v()));null!=g&&g.forEach(function(a){k(a,b)});var i=Tortuga.ParamsUtil.givCurrentVersion();if(m()!=i&&(alert("Некорректная версия урока."),v()),"onhashchange"in window)window.onhashchange=function(){u(a,c,e,f,h)};else{var l=window.location.hash;window.setInterval(function(){window.location.hash!=l&&u(a,c,e,f,h)},100)}var n=document.createElement("DIV");j(n,d),c.appendChild(n),t(a,c,e,f,h)}}(),ns("Tortuga"),function(){var a=3,b="001",c=function(a){return unescape(encodeURIComponent(a))},d=function(a){return decodeURIComponent(escape(a))},e=function(a){return btoa(RawDeflate.deflate(c(a)))},f=function(a){var c=e(JSON.stringify(a)),d=location.pathname.substring(0,location.pathname.lastIndexOf("/")+1);return location.origin+d+"index.html?"+b+c},g=function(){return b},h=function(b){var c=b.indexOf("?"),d=b.substr(c+1+a);return d},i=function(a){return d(RawDeflate.inflate(atob(h(a))))},j=function(){return i(location.search)},k=function(){try{var a=j();return""!=a?JSON.parse(a):"indexpage"}catch(b){return null}};Tortuga.ParamsUtil={getLesson:k,getLessonLink:f,givCurrentVersion:g,getLessonTextFromUriValue:j,getLessonTextFromGetUriValue:i}}(),ns("Tortuga");var SQ2=Math.sqrt(2);Tortuga.initApp,function(){var a=function(a,b){a.classList.add(b)},b=function(){};b.prototype.setLessonsTitle=function(a){document.title=a+" \\ Tortuga"};var c=function(b){var c=document.createElement("DIV");return a(c,"tortuga-canvasContainer-bg"),b.appendChild(c),c},d=function(b){var c=document.createElement("CANVAS");a(c,"tortuga-canvasContainer-canvas");var d=Math.min(b.offsetWidth,1100),e=Math.floor(4*d/8);return c.width=d,c.height=e,b.style.width=d+"px",b.style.height=e+"px",console.log(b.offsetWidth,b.offsetHeight),b.appendChild(c),c},e=function(b){a(b,"tortuga-canvasContainer");var e=c(b),f=d(b);return{canvasContainer:b,canvas:f,bg:e}},f=function(b){a(b,"tortuga-filesArea");var c=document.createElement("INPUT");return a(c,"tortuga-filesArea-button"),c.type="file",c.multiple=!0,b.appendChild(c),{filesArea:b,button:c}},g=function(b,c){return a(lessonsList,"tortuga-lessonsListContainer"),a(c,"tortuga-lessonItemDescription"),{lessonsListContainer:b,lessonItemDescription:c}},h=function(a,c,d,h,i,j){var k=e(a),l=f(i),m=(g(c,d),Tortuga.Vm.initVm(k.canvas,k.canvasContainer));Tortuga.initMouse(m.drawingSystem),Tortuga.Vm.initTortoise(k.canvasContainer,m.jsConverter),Tortuga.initFiles(l.button,j,begin,end),Tortuga.initLessons(k.bg,c,d,new b,h)};Tortuga.initApp=h}(),ns("Tortuga.Events"),function(){var a=Tortuga.Events;Tortuga.initMouse=function(b){var c=function(c){var d=b.convertCoordsCanvasToTortuga(c.layerX,c.layerY),e={tortugaX:d.x,tortugaY:d.y,originalEvent:c},f="on"+c.type;"function"==typeof a[f]&&a[f](e)},d=b.getCanvas(),e=["onclick","onmousedown","onmouseenter","onmouseleave","onmousemove","onmouseout","onmouseover","onmouseup","onmousewheel"];e.forEach(function(b){d[b]=c,a[b]=null})}}();